<!DOCTYPE html>
<html>
<head>
    <title>SHOPPING CART </title>
    <meta charset='utf-8'>
    <script src="js/jquery-2.1.3.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/tet.css">
    <link rel="stylesheet" href="../DoAn_2/assets/css/login/login.css">
</head>
<body>
<div id="header" class="header tet-header">
    <div class="top-header">
        <div class="container">
            <div class="nav-top-links">
                <a class="first-item" href="#"><img alt="phone" src="images/phone.png" />0971642792</a>
                <a href="#"><img alt="email" src="images/email.png" />Contact us today!</a>
            </div>
            <div class="currency ">
                <div class="dropdown">
                    <a class="current-open" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">USD</a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#">Dollar</a></li>
                        <li><a href="#">Euro</a></li>
                    </ul>
                </div>
            </div>
            <div class="language ">
                <div class="dropdown">
                    <a class="current-open" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">
                        <img alt="email" src="images/fr.jpg" />French
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#"><img alt="email" src="images/en.jpg" />English</a></li>
                        <li><a href="#"><img alt="email" src="images/fr.jpg" />French</a></li>
                    </ul>
                </div>
            </div>
            <div class="support-link">
                <a href="#">Login</a>
                <a href="join.html">Join</a>
                <a href="#">Support</a>
            </div>
        </div>
    </div>
    <!--/.top-header -->
    <!-- MAIN HEADER -->
    <div class="container main-header">
        <div class="row">
            <div class="col-xs-12 col-sm-3 logo">
                <a href="index.html"><img alt="" src="images/logo1.png" style="height:100px;width:100%;"  /></a>
            </div>
            <div class="col-xs-7 col-sm-7 header-search-box">
                <form class="form-inline">
                    <div class="form-group form-category">
                        <select class="select-category">
                            <option value="2">All Categories</option>
                            <option value="1">Men</option>
                            <option value="2">Women</option>
                        </select>
                    </div>
                    <div class="form-group input-serach">
                        <input type="text"  placeholder="Keyword here...">
                    </div>
                    <button type="submit" class="pull-right btn-search"></button>
                </form>
            </div>
        </div>
    </div>
    <!-- END MANIN HEADER -->
    <div id="nav-top-menu" class="nav-top-menu">
        <div class="container">
            <div class="row">
                <div id="main-menu" class="col-sm-9 main-menu">
                    <nav class="navbar navbar-default">
                        <div class="container-fluid">
                            <div class="navbar-header">
                                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                                    <i class="fa fa-bars"></i>
                                </button>
                                <a class="navbar-brand" href="#">MENU</a>
                            </div>
                            <div id="navbar" class="navbar-collapse collapse">
                                <ul class="nav navbar-nav">
                                    <li><a href="#">Home</a></li>
                                    <li class="active"><a href="index.html">Product</a></li>
                                    <li><a href="">Services</a></li>
                                    <li><a href="">Portfolio</a></li>
                                    <li><a href="">Beautiful hair samples</a></li>
                                    <li><a href="">Contact Us</a></li>
                                </ul>
                            </div><!--/.nav-collapse -->
                        </div>
                    </nav>
                </div>
            </div>
            <!-- userinfo on top-->
            <div id="form-search-opntop">
            </div>
            <!-- userinfo on top-->
            <div id="user-info-opntop">
            </div>
        </div>
    </div>
</div>

<div class="wrapper">
    <div class="container" style="padding:10px 0 0 0;">
        <a href="index.html">< Continue shopping</a>
    </div>
    <hr>
        <h1>SHOPPING CART</h1>
        <div class="row">
            <div class="col-md-4">
                <div class="img-thumbnail" style="border: 1px solid gray; width: 80%; height: 190px">
                <img src="images/sp3.jpg" style="width: 80%;height: 180px;" alt="image">
                </div>
                <div>
                    TREsemme
                </div>
                <div>
                    price: $38,85
                </div>
                <button id="product-1" data-name="TREsemme" data-price="17000000" class="add-to-cart btn btn-primary">Add to cart</button>
            </div>
            <div class="col-md-4">
                <div class="img-thumbnail" style="border: 1px solid gray; width: 80%; height: 190px">
                 <img src="images/sp2.jpg" style="width: 80%;height: 180px;" alt="image">
                </div>
                <div>
                    Loreal
                </div>
                <div>
                    price: $29,14
                </div>
                <button id="product-2" data-name=" Loreal" data-price="12500000" class="add-to-cart btn btn-danger">Add to cart</button>
            </div>
            <div class="col-md-4">
                <div class="img-thumbnail" style="border: 1px solid gray; width: 80%; height: 190px">
                 <img src="images/sp4.jpg" style="width: 80%;height: 180px;"alt="images">
                </div>
                <div>
                    Xerioxyl
                </div>
                <div>
                    price: $35,24
                </div>
                <button id="product-3" data-name="Xerioxyl" data-price="18500000" class="add-to-cart btn btn-info">Add to cart</button>
            </div>
        </div>
        <br />
        <div class="row">
            <table class="table table-bordered" id="table-products">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div>
            <button class="btn btn-lg btn-success" id="button-clear">Clear</button>
        </div>
    </div>
<br> <br>
<div id="services" style="padding:0;">
    <div class="container">
        <div class="row">
            <div class="col-sm-3">
                <h1>BUY NOW</h1>
                <p>
                    If you come all the way down here,
                    you probably like our T&L theme.
                    To help you find where you can buy it,
                    we prepared a solution for that also.
                    Simply click the button below.
                </p>
                <p><br/>
                    <a href="">BUY</a>
                </p>
            </div>
            <div class="col-sm-3">
                <h1>INTRODUCE</h1>
                <p>- T&L is a breath of fresh air to the industry.</p>
                <p>-	It is bright, modern, stylish and a wonderful environment in which to have a treatment.</p>
            </div>
            <div class="col-sm-3">
                <h1>ABOUT US</h1>
                <p>Tel: 84+1657833112</p>
                <p>E : Ng1anh2tan3@gmail.com</p>
                <p>H : T&LHairstyle.com</p>
            </div>
            <div class="col-sm-3">
                <h1>OPENING TIMES</h1>
                <div class="row">
                    <div class="col-xs-6">
                        <p class="pletter">Monday </p>
                        <p class="pletter">Tuesday </p>
                        <p class="pletter">Wednesday </p>
                        <p class="pletter">Thursday </p>
                        <p class="pletter">Friday </p>
                        <p class="pletter">Saturday </p>
                        <p class="pletter">Sunday </p>
                    </div>
                    <div class="col-xs-6">
                        <p class="ptime">09:00 - 15:00</p>
                        <p class="ptime">09:00 - 15:00</p>
                        <p class="ptime">08:00 - 15:00</p>
                        <p class="ptime">08:00 - 15:00</p>
                        <p class="ptime">08:00 - 14:00</p>
                        <p class="pclose">CLOSED</p>
                        <p class="pclose">CLOSED</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="footer">
    <span class="glyphicon glyphicon-menu-up"></span>
    <p>Copyright &copy;T&L Salon </p>
</div>
</body>
</html>
<script>
    // Định nghĩa một mảng các phần tử sẽ bỏ vào giỏ hàng
    var shoppingCartItems = [];

    $(document).ready(function () {
        // Kiểm tra nếu đã có sessionStorage["shopping-cart-items"] hay chưa?
        if (sessionStorage["shopping-cart-items"] != null) {
            shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString());
        }
        // Hiển thị thông tin từ giỏ hàng
        displayShoppingCartItems();
    });
    // Sự kiện click các button có class=".add-to-cart"
    $(".add-to-cart").click(function () {
        var button = $(this); // Lấy đối tượng button mà người dùng click
        var id = button.attr("id"); // id của sản phẩm là id của button
        var name = button.attr("data-name"); // name của sản phẩm là thuộc tính data-name của button
        var price = button.attr("data-price"); // price của sản phẩm là thuộc tính data-price của button
        var quantity = 1; // Số lượng
        var item = {
            id: id,
            name: name,
            price: price,
            quantity: quantity
        };
        var exists = false;
        if (shoppingCartItems.length > 0) {
            $.each(shoppingCartItems, function (index, value) {
                // Nếu mặt hàng đã tồn tại trong giỏ hàng thì chỉ cần tăng số lượng mặt hàng đó trong giỏ hàng.
                if (value.id == item.id) {
                    value.quantity++;
                    exists = true;
                    return false;
                }
            });
        }
        // Nếu mặt hàng chưa tồn tại trong giỏ hàng thì bổ sung vào mảng
        if (!exists) {
            shoppingCartItems.push(item);
        }

        // Lưu thông tin vào sessionStorage
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems); // Chuyển thông tin mảng shoppingCartItems sang JSON trước khi lưu vào sessionStorage
        // Gọi hàm hiển thị giỏ hàng
        displayShoppingCartItems();
    });

    // Xóa hết giỏ hàng shoppingCartItems
    $("#button-clear").click(function () {
        shoppingCartItems = [];
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems);
        $("#table-products > tbody").html("");
    });


    // Hiển thị giỏ hàng ra table
    function displayShoppingCartItems() {
        if (sessionStorage["shopping-cart-items"] != null) {
            shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString()); // Chuyển thông tin từ JSON trong sessionStorage sang mảng shoppingCartItems.

            $("#table-products > tbody").html("");
            // Duyệt qua mảng shoppingCartItems để append từng item dòng vào table
            $.each(shoppingCartItems, function (index, item) {
                var htmlString = "";
                htmlString += "<tr>";
                htmlString += "<td>" + item.id + "</td>";
                htmlString += "<td>" + item.name + "</td>";
                htmlString += "<td style='text-align: right'>" + item.price + "</td>";
                htmlString += "<td style='text-align: right'>" + item.quantity + "</td>";
                htmlString += "<td style='text-align: right'>" + item.price * item.quantity + "</td>";
                htmlString += "</tr>";

                $("#table-products > tbody:last").append(htmlString);

            });
        }
    }
</script>